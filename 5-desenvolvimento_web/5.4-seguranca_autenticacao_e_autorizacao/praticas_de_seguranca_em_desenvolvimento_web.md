# SEGURANÇA E PRIVACIDADE
A segurança da informação contém alguns elementos básicos sobre segurança em aplicações. O primeiro deles é a:
1. **CONFIDENCIALIDADE**<br/>
Ela deve garantir que a comunicação seja interpretada apenas pelas partes envolvidas, ou seja, mesmo que haja um interceptação no canal de comunicação, apenas as partes envolvidas terão condições de decifrar o conteúdo das mensagens recebidas.
2. **INTEGRIDADE**<br/>
É a capacidade de detectar se a informação foi ou não adulterada durante a sua transmissão.
3. **DISPONIBILIDADE**<br/>
Um sistema de comunicação seguro deve estar sempre acessível quando necessário.
4. **AUTENTICIDADE**<br/>
É a capacidade de confirmar a autoria da comunicação, ou seja, garantir de ambas as partes tenham como identificar a outra parte com a qual está se comunicando.

## SEGURANÇA NO DESENVOLVIMENTO DE SOFTWARE
Para o desenvolvimento de software seguro, existem 2 conceitos básicos:
1. **SEGURANÇA**: para a proteção da integridade da aplicação.
2. **PRIVACIDADE**: que é a proteção dos dados em poder da aplicação.

Uma das maneiras mais comuns de dar alguma segurança as aplicações é a implementação de criptografia. A criptografia é a técnica de se transmitir mensagens entre 2 ou mais partes garantindo que somente as partes envolvidas tenham acesso ao conteúdo da informação trafegada e também que seja possível validar a autoria do envio da mensagem. Vamos imaginar num sistema que se comunica de forma criptografada entre 2 pontos da internet e que transmita informações sensíveis. O nosso objetivo é garantir que a informação não seja interceptada ou alterada no meio do caminho. Este tipo de ataque é conhecido como **MITM - Machine or Man In The Middle**, onde assumimos que sempre existe alguém ou algum código fazendo a interceptação da nossa comunicação, então confiamos no algoritmo de encriptação e nos padrões de criptografia que estes pontos no meio da comunicação não vão ter a capacidade de decifrar ou alterar as mensagens sem que possamos detectar. Então, considerando esse sistema hipotético de 2 equipamentos se comunicando na internet, existe um protocolo de comunicação cifrada que usa o padrão **SSL/TLS - TRANSPORT LAYER SECURITY**, ou mesmo, se for o próprio software que estiver sendo transmitido neste canal, é possível fazer um **checksum**, que é a verificação e checagem de integridade do código.<br/>
A criptografia é uma parte importante e crucial atualmente, um sistema criptografado está bem protegido, mas muitas vezes a vulnerabilidade do sistema não está na criptografia do sistema, pode por exemplo estar na interação com o usuário, na exposição da **api Key**, por ataques *DDoS*, entre outros exemplos.<br/>
Então, em linhas gerais, devemos pensar em como proteger nossa aplicação de ameaças como se fossemos atacar nosso software. É importante notarmos que: **é relativamente fácil e barato produzirmos vulnerabilidades no nosso projeto, todos os dias podemos produzir por acidente uma vulnerabilidade, todo erro de software pode ser uma vulnerabilidade, porém é extremamente caro e difícil encontrar uma vulnerabilidade.**<br/>
Essa tensão, as vezes faz com que os desenvolvedores confundam *segurança* com *obscuridade*. Devemos imaginar que qualquer atacante conhece por completo nosso sistema, só não tem ainda a chave para acessá-lo. Entretanto, esconder a *"chave da porta"* num lugar privado e desconhecido não garante a segurança do atacante *"entrar pela janela"* por exemplo. Devemos mitigar qualquer erro que nosso software possa produzir para que não seja possível acessá-lo através de nenhuma falha, não só garantir o acesso ao código fonte.<br/>
Outra prática comum porém ainda ineficaz, é quando o desenvolvedor "esconde" a aplicação num ambiente isolado, em máquinas virtuais por exemplo. Isso ajuda bastante, mas em geral, está apenas protegendo o ambiente de hospedagem do software, pois voltando ao mesmo problema da obscuridade, se a aplicação contém um problema de vulnerabilidade, esta será visível dentro ou fora do ambiente de isolamento.<br/>
Então, para atacarmos as vulnerabilidades logo no início do desenvolvimento de qualquer aplicação, uma boa prática é a criação de um documento chamado **THREAT MODELING**. Ele é um modelo teórico de como é possível atacar o sistema, e, neste momento, devemos pensar como um invasor que deseja destruir e obter todos os dados que o software manupila. Neste documento serão enumeradas estas possíveis ameaças em ordem de:
1. **qual provável é este ataque?**
2. **qual o custo de reparo desta vulnerabilidade?**

Isso ajuda guiar a resolução das ameaças mais prováveis de ocorrerem e que ao mesmo tempo são as mais fáceis (consequentemente, as mais baratas). Deixando assim, as ameças mais *teoricas* e *difícies* para o fim, por geralmente consumirem muito esforço e recursos. Este documento deve estar público, para a conscientização do usuário de quais riscos ele corre usando a aplicação.<br/>
Esta parte é feita no inicio de um projeto, existe ainda a parte prática, realizada após o primeiro **MVP** da aplicação: **PENTEST**. Que é basicamente verificar na prática as ideias para a quebra do sotware. Além de ter uma visualização em tempo real de como a falha se comporta, também podemos entender melhor como corrigí-la e talvez até encontrar novas falhas de segurança desconhecidas.<br/>
Um exemplo bastante simples de ameaça de software é o de **permissões mínimas**. Imagine que um atacante percebe que possui permissão de escrita no código fonte, isso representa o fim do software, pois significa que o atacante pode alterar o código da aplicação para que ela faça coisas as quais ela não deveria fazer. Um dos tratamentos possíveis seria fornecer o mínimo de permissões, por exemplo, no sistema de arquivos, para que a aplicação consiga rodar, então gradativamente ir liberando as permissões necessárias, mantendo assim somente as permissões que o sistema realmente precisa, fechando portas para possíveis ameaças.

## IDENTIFICAÇÃO
Em aplicações seguras, para que um usuário acesse seus recursos é necessário se identificar. A identificação não é apenas uma medida de segurança, mas também uma maneira de armazenar informações privadas e únicas de cada usuário, tornando a experiência personalizada para cada um. Um bom exemplo seria de uma conta bancária, onde só o dono do login e senha pode verificar seu saldo e realizar transações, ou mesmo uma conta de rede social, onde cada usuário possui uma rede de contatos para compartilhar suas próprias fotos armazenadas em sua conta e ter conversas particulares com outros usuários. Isso só é possível pois cada usuário está identificado no sistema, o que permite ao software armazenar e orquestrar cada informação de cada usuário.<br/>
Existem milhões de maneiras de se identificar usuários, mas as mais comuns e utilizadas são simplesmente através de **email** e **senha**, onde um email já cadastrado não pode realizar um *novo cadastro*, sendo único no banco de dados. Juntamente com a senha escolhida pelo usuário, pois assim, este tem acesso às suas informações atreladas à aquele email.

## AUTENTICAÇÃO
Esta é uma das mais importantes partes de qualquer aplicação, pois tem a missão de identificar quem está usando o sistema e se este usuário possui permissão para tal, ou seja, ela se dá quando um usuário comprova quem ele diz ser. A maioria dos sistemas operacionais de computador permite que os usuários criem perfis. Um perfil pode incluir informações básicas sobre um usuário, como seu nome e talvez uma foto. Mas os perfis também têm um conjunto muito especial de dados que informam ao computador quem o está usando.<br/>
Em algum momento, você provavelmente teve que criar um nome de usuário e uma senha, esses 2 tipos de informações, quando usados ​​juntos, tornam-se um conjunto que informa ao computador quem está acessando. O nome de usuário pode ser público, mas a senha deve ser conhecida apenas pelo usuário. Como somente o dono do perfil conhece a senha, quando ela é usada com seu nome de usuário, tem-se uma identidade única que o computador usa para manter os dados seguros.<br/>
Os computadores usam a identidade para fornecer ao usuário — e somente a ele — acesso a programas, dados, fotos e outras informações que ele tem em seus dispositivos de armazenamento.<br/>
Os computadores na nuvem também podem usar nomes de usuário e senhas ou biometria para identificar quem está logado. Por exemplo, para usar um serviço de streaming de filmes, é necessário criar uma identidade na forma de um nome de usuário e senha. Alguns serviços de nuvem permitem até que cada membro de uma família tenha seu próprio perfil com seus próprios nomes de usuário e senhas.<br/>
Não são apenas os humanos que precisam ter uma identidade na nuvem. Os computadores devem se comunicar com outros computadores na nuvem. Suponha que um novo computador deseja usar um conjunto de serviços de uma empresa, como armazenamento on-line, compartilhamento de dados, mensagens de texto e serviços semelhantes. Após o computador ser registrado com a empresa, este registro cria uma identidade para o dispositivo. Quando for acessar esses serviços com esse dispositivo, o sistema da empresa reconhece esse computador, tornando mais fácil para fazer o que se deseja.<br/>
Uma vez que um computador ou serviço de nuvem sabe quem é o usuário, ele usa essa identidade para impedir que outros acessem o computador ou serviço. A combinação de nome de usuário e senha funciona como um tipo de guarda de segurança que só permite que pessoas que têm permissão acessem o computador ou serviço. É por isso que criar senhas fortes é tão importante.<br/>
Às vezes, os computadores têm vários usuários, digamos em uma família ou corporação, por exemplo. Nessas situações, os computadores podem usar essa identidade para proteger os dados pessoais de cada usuário. Por exemplo, se um usuário usar seu nome de usuário e senha para fazer login no seu computador e, enquanto estiver conectado, criar um documento, o computador impedirá que qualquer outro usuário naquele computador possa acessar esse documento. Se outra pessoa com outro nome de usuário e senha fizer login naquele computador, seu documento ficará oculto para ela.

### SSO
Os computadores em nuvem também podem passar a identidade de um sistema para outro. Isso é **Single Sign-On**, o login único. Este é um método de autenticação que permite aos usuários acessarem múltiplas aplicações ou sites utilizando um único conjunto de credenciais. Isso significa que, após um único login, o usuário pode navegar por diferentes sistemas sem a necessidade de autenticar-se novamente em cada um deles. Podemos ver este tipo de sistema em uso ao fazer login em um serviço de nuvem, digamos, um serviço de streaming de música, usando um perfil de rede social. Nesse caso, o serviço de rede social é confiável para o serviço de streaming de música, o que significa que ele não colocará o serviço em risco. Portanto, ao fazer login no perfil de rede social, esse serviço informa à empresa de música para confiar neste usuário. Sua identidade é verificada pelo seu provedor de rede social e, em seguida, passada para o serviço de música.<br/>
O SSO opera através de uma relação de confiança entre provedores de identidade (IdP) e provedores de serviço (SP). Quando um usuário tenta acessar um serviço, o SP redireciona a solicitação ao IdP para autenticação. Se o usuário já estiver autenticado, o IdP retorna um token de autorização ao SP, permitindo o acesso sem exigir novo login. Caso contrário, o usuário é solicitado a fornecer suas credenciais uma única vez, estabelecendo a sessão para os demais serviços associados.<br/>
Os benefícios do SSO incluem:
- **Melhoria da experiência do usuário:** Reduz a necessidade de múltiplos logins, facilitando o acesso a diferentes aplicações.
- **Aumento da segurança:** Minimiza o risco associado ao uso de várias senhas, incentivando a adoção de credenciais mais fortes e reduzindo a probabilidade de práticas inseguras, como a reutilização de senhas.
- **Maior produtividade:** Diminui o tempo gasto com autenticações repetitivas, permitindo que os usuários se concentrem em suas atividades principais.

Embora o SSO ofereça conveniência, é crucial implementar medidas de segurança adicionais, como a autenticação multifator (MFA), para proteger a única credencial que concede acesso a múltiplos sistemas. A combinação de SSO com MFA fortalece a postura de segurança, garantindo que mesmo que as credenciais sejam comprometidas, um segundo fator de autenticação seja necessário para o acesso.

### BIOMETRIA
Um conjunto de nome de usuário e senha, embora seja o sistema de identidade mais amplamente usado, não é a única maneira de os computadores saberem diferenciar e reconhecer os usuários. Os computadores podem usar o rosto, a voz, impressão digital e até mesmo o padrão único do globo ocular para identificá-los. Esses métodos são chamados de biometria porque usam a biologia única para identificar cada usuário.<br/>
Mesmo sistemas de segurança fortes, podem ser contornados com senhas fracas. Essa é uma das razões pelas quais a biometria está crescendo em popularidade e disponibilidade. Uma impressão digital ou um rosto é muito mais difícil de reproduzir do que uma sequência de caracteres de texto.<br/>
Muitas dessas medidas de segurança biométrica estão disponíveis agora e ainda mais estão sendo desenvolvidas. Um exemplo que aparece nos filmes é chamado de análise de marcha, o **gait analysis**. Esse tipo de sistema usaria inteligência artificial para analisar como uma pessoa anda e identificá-la exclusivamente com base em seus padrões específicos de caminhada.

### API KEY
Esta é uma chave usada entre aplicações que utilizam serviços de outras aplicações para se identificar e autenticar, como um *"cartão de identificação"* que o cliente da API apresenta ao servidor sempre que utiliza aquele serviço. É uma chave única, geralmente uma string longa, fornecida por um provedor de API para identificar e controlar o acesso ao seu serviço. Ela é usada principalmente em chamadas HTTP, como um token de acesso.<br/>
Ela identifica e autentica ao servidor quem é o requisitante do servidor, e carrega consigo as autorizações que aquele usuário possui e quais serviços ele pode utilizar. Além disso, ela também permite que o servidor identifique a atividade na chave, verificando se ela não foi interceptada por alguma tentativa de ataque maliciosa ao, por exemplo, perceber que houveram múltiplas requisições em um curto período de tempo, podendo ativar medidas de segurança para aquela chave até avaliar qual a real situação com o solicitante da API.

## AUTORIZAÇÃO
Em todo software existem camadas de autorização para que um usuário tenha acesso à determinados tipos de recursos. Os níveis de acessos são inevitáveis em qualquer aplicação, pois se um usuário comum, sem conhecimento técnico, possui as mesmas permissões de acesso que um desenvolvedor, existe uma grande chance de que um usuário mal intencionado ou apenas desavisado quebre a aplicação inteira.<br/>
Então pode-se dizer que a autorização possui o intuito de definir o que um usuário pode ou não fazer, pois, mesmo que o sistema o identifique e o autentique, essas credenciais possuem permissão apenas para acessar um determinado nível de recursos.<br/>
Um bom exemplo disso seria um software de CRM, estes tipos de programas são usados por empresas para que cada colaborador gerencie no seu nível suas métricas e clientes. Um vendedor por exemplo, que possui uma carteira de clientes, tem acesso apenas a sua carteira e a de mais nenhum outro vendedor, além disso, não tem acesso ao valor total de lucro obtido pela empresa, isso cabe ao gerente, que tem acesso a carteira de todos os vendedores pois é ele quem define isso, e também acesso ao valor total de lucro obtido, pois assim pode traçar novas métricas e também enviar relatórios aos níveis acima na hierarquia.<br/>
A autorização trata de permitir ou não o acesso a um recurso, através da identificação — que controla o acesso e informações — e da autenticação — que é a medida que trata da segurança de confirmar que o usuário que está acessando é realmente quem diz ser.

<a href="https://github.com/raphaelkaique1/study/blob/main/5-desenvolvimento_web/5.3-backend/banco_de_dados.md">previous</a>⠀⠀⠀⠀⠀⠀<a href="https://github.com/raphaelkaique1/study#seguranca_autenticacao_e_autorizacao">study</a>⠀⠀⠀⠀⠀⠀<a href="https://github.com/raphaelkaique1/study/blob/main/5-desenvolvimento_web/5.4-seguranca_autenticacao_e_autorizacao/seguranca_de_rede.md">next</a>